<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi-Step Form - Temporary Top Line</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        padding-top: 10px;
      }

      /* Top Line - Hidden by default */
      #top-progress {
        position: fixed;
        top: 0;
        left: 0;
        height: 5px;
        background-color: #0d6efd;
        z-index: 9999;
        display: none;
      }

      @keyframes animateLine {
        from {
          width: 0;
        }
        to {
          width: 100%;
        }
      }

      .step-form {
        display: none;
      }

      .step-form.active {
        display: block;
      }
    </style>
  </head>
  <body>
    <!-- Top Line -->
    <div id="top-progress"></div>

    <div class="container my-5 py-3 shadow p-5 rounded">
      <h3 class="mb-4 text-center">Multi-Step Form</h3>

      <!-- Optional Bootstrap Progress -->
      <div class="progress mb-4">
        <div
          id="progressBar"
          class="progress-bar"
          role="progressbar"
          style="width: 25%"
        >
          Step 1 of 4
        </div>
      </div>

      <form id="multiStepForm">
        <!-- Step 1 -->
        <div class="step-form active">
          <div class="row">
            <!-- Left Column -->

            <div class="col-md-6">
              <div class="form-group mb-3">
                <label>Where are you from?</label>
                <select class="form-select">
                  <option selected>Bangladesh</option>
                  <option value="1">Bangladesh</option>
                  <option value="2">India</option>
                  <option value="3">Kenya</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="firstName" class="form-label">First Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="firstName"
                  placeholder="Enter first name"
                />
              </div>
              <div class="mb-3">
                <label for="lastName" class="form-label">Last Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="lastName"
                  placeholder="Enter last name"
                />
              </div>

              <div class="mb-3">
                <label for="phone" class="form-label">Phone Number</label>
                <input
                  type="tel"
                  class="form-control"
                  id="phone"
                  placeholder="Enter phone number"
                />
              </div>
            </div>

            <!-- Right Column -->
            <div class="col-md-6">
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="Enter email"
                />
              </div>
              <div class="form-group mb-3">
                <label>Password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Password"
                />
              </div>

              <div class="form-group mb-3">
                <label>Confirm password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Confirm password"
                />
              </div>
            </div>
          </div>

          <button type="button" class="btn btn-primary next-btn">Next</button>
        </div>

        <!-- Step 2 -->
        <div class="step-form">
          <div class="row">
            <!-- Left Column -->
            <!-- title  -->
            <div class="col-md-4">
              <h3>Your Details</h3>
              <!-- Title -->
              <div class="mb-3">
                <label for="title" class="form-label">Title</label>
                <select class="form-select" id="title">
                  <option selected disabled>Select an option...</option>
                  <option>Mr</option>
                  <option>Mrs</option>
                  <option>Miss</option>
                  <option>Dr</option>
                  <!-- Add more options as needed -->
                </select>
              </div>

              <!-- First Name -->
              <div class="mb-3">
                <label for="firstName" class="form-label"
                  >First Name <span class="text-danger">*</span></label
                >
                <input
                  type="text"
                  class="form-control"
                  id="firstName"
                  placeholder="Enter your first name"
                />
              </div>

              <!-- Middle Name -->
              <div class="mb-3">
                <label for="middleName" class="form-label">Middle Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="middleName"
                  placeholder="Enter your middle name"
                />
              </div>

              <!-- Last Name -->
              <div class="mb-3">
                <label for="lastName" class="form-label"
                  >Last Name <span class="text-danger">*</span></label
                >
                <input
                  type="text"
                  class="form-control"
                  id="lastName"
                  placeholder="Enter your last name"
                />
              </div>

              <!-- Date of Birth -->
              <div class="mb-3">
                <label for="dob" class="form-label">Date of Birth</label>
                <input type="date" class="form-control" id="dob" />
              </div>

              <!-- Place of Birth -->
              <div class="mb-3">
                <label for="placeOfBirth" class="form-label"
                  >Place of Birth</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="placeOfBirth"
                  placeholder="Enter place of birth"
                />
              </div>

              <!-- Gender -->
              <div class="mb-3">
                <label for="gender" class="form-label">Gender</label>
                <select class="form-select" id="gender">
                  <option selected disabled>Select an option...</option>
                  <option>Male</option>
                  <option>Female</option>
                  <option>Other</option>
                </select>
              </div>
              <h4>Physical Address</h4>
              <!-- Country -->
              <div class="mb-3">
                <label for="country" class="form-label">Country</label>
                <select class="form-select" id="country">
                  <option selected>United States</option>
                  <option>Canada</option>
                  <option>United Kingdom</option>
                  <option>Australia</option>
                  <!-- Add more countries as needed -->
                </select>
              </div>

              <!-- Street Address -->
              <div class="mb-3">
                <label for="streetAddress" class="form-label"
                  >Street Address</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="streetAddress"
                  placeholder="Enter street address"
                />
              </div>

              <!-- Address Line 2 -->
              <div class="mb-3">
                <label for="addressLine2" class="form-label"
                  >Address Line 2</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="addressLine2"
                  placeholder="Apartment, suite, etc."
                />
              </div>

              <!-- City -->
              <div class="mb-3">
                <label for="city" class="form-label">City</label>
                <input
                  type="text"
                  class="form-control"
                  id="city"
                  placeholder="Enter city"
                />
              </div>

              <!-- State / Province / Region -->
              <div class="mb-3">
                <label for="state" class="form-label"
                  >State / Province / Region</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="state"
                  placeholder="Enter state or province"
                />
              </div>

              <!-- Postal Zip Code -->
              <div class="mb-3">
                <label for="postalCode" class="form-label"
                  >Postal Zip Code</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="postalCode"
                  placeholder="Enter postal code"
                />
              </div>

              <!-- Postal Address Toggle -->
              <div class="form-check form-switch mb-3">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="sameAsPhysical"
                />
                <label class="form-check-label" for="sameAsPhysical"
                  >Same as Physical Address</label
                >
              </div>
            </div>

            <!-- middle Column -->
            <div class="col-md-4">
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="Enter email"
                />
              </div>
              <div class="form-group mb-3">
                <label>Password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Password"
                />
              </div>

              <div class="form-group mb-3">
                <label>Confirm password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Confirm password"
                />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="Enter email"
                />
              </div>
              <div class="form-group mb-3">
                <label>Password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Password"
                />
              </div>

              <div class="form-group mb-3">
                <label>Confirm password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Confirm password"
                />
              </div>
              <div class="form-group mb-3">
                <label>Confirm password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Confirm password"
                />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="Enter email"
                />
              </div>
              <div class="form-group mb-3">
                <label>Password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Password"
                />
              </div>

              <div class="form-group mb-3">
                <label>Confirm password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Confirm password"
                />
              </div>
            </div>
            <!-- Right Column -->
            <div class="col-md-4">
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="Enter email"
                />
              </div>
              <div class="form-group mb-3">
                <label>Password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Password"
                />
              </div>

              <div class="form-group mb-3">
                <label>Confirm password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Confirm password"
                />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="Enter email"
                />
              </div>
              <div class="form-group mb-3">
                <label>Password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Password"
                />
              </div>

              <div class="form-group mb-3">
                <label>Confirm password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Confirm password"
                />
              </div>
              <div class="form-group mb-3">
                <label>Confirm password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Confirm password"
                />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="Enter email"
                />
              </div>
              <div class="form-group mb-3">
                <label>Password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Password"
                />
              </div>

              <div class="form-group mb-3">
                <label>Confirm password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Confirm password"
                />
              </div>
            </div>
          </div>
          <button type="button" class="btn btn-secondary prev-btn">
            Previous
          </button>
          <button type="button" class="btn btn-primary next-btn">Next</button>
        </div>

        <!-- Step 3 -->
        <div class="step-form">
          <div class="mb-3">
            <label class="form-label">Phone Number</label>
            <input
              type="tel"
              class="form-control"
              placeholder="Enter your number"
            />
          </div>
          <button type="button" class="btn btn-secondary prev-btn">
            Previous
          </button>
          <button type="button" class="btn btn-primary next-btn">Next</button>
        </div>

        <!-- Step 4 -->
        <div class="step-form">
          <div class="mb-3">
            <label class="form-label">Password</label>
            <input
              type="password"
              class="form-control"
              placeholder="Enter password"
            />
          </div>
          <button type="button" class="btn btn-secondary prev-btn">
            Previous
          </button>
          <button type="submit" class="btn btn-success">Submit</button>
        </div>
      </form>
    </div>

    <script>
      const steps = document.querySelectorAll(".step-form");
      const nextBtns = document.querySelectorAll(".next-btn");
      const prevBtns = document.querySelectorAll(".prev-btn");
      const progressBar = document.getElementById("progressBar");
      const topProgress = document.getElementById("top-progress");

      let currentStep = 0;

      function showStep(index) {
        steps.forEach((step, i) => {
          step.classList.remove("active");
          if (i === index) step.classList.add("active");
        });

        const percent = ((index + 1) / steps.length) * 100;
        progressBar.style.width = percent + "%";
        progressBar.textContent = `Step ${index + 1} of ${steps.length}`;
      }

      function animateTopLine() {
        // Reset style
        topProgress.style.display = "block";
        topProgress.style.width = "0";
        topProgress.style.animation = "none";

        // Force reflow
        void topProgress.offsetWidth;

        // Animate
        topProgress.style.animation = "animateLine 0.5s ease forwards";

        // Hide after animation complete
        setTimeout(() => {
          topProgress.style.display = "none";
        }, 600); // slightly more than animation duration
      }

      nextBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
          if (currentStep < steps.length - 1) {
            currentStep++;
            showStep(currentStep);
            animateTopLine(); // 🔥 Animate only on next
          }
        });
      });

      prevBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
          if (currentStep > 0) {
            currentStep--;
            showStep(currentStep);
          }
        });
      });

      document
        .getElementById("multiStepForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          alert("Form submitted successfully!");
        });

      // Init
      showStep(currentStep);
    </script>
  </body>
</html>
